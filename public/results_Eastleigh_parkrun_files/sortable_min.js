/*
Table sorting script  by Joost de Valk, check it out at http://www.joostdevalk.nl/code/sortable-table/.
Based on a script from http://www.kryogenix.org/code/browser/sorttable/.
Distributed under the MIT license: http://www.kryogenix.org/code/browser/licence.html.
Copyright (c) 1997-2007 Stuart Langridge, Joost de Valk.
Version 1.5.7
*/
var image_path="http://images.parkrun.com/website/sortable/",image_up="arrow-up.gif",image_down="arrow-down.gif",image_none="arrow-none.gif",europeandate=!0,alternate_row_colors=!0;addEvent(window,"load",sortables_init);var SORT_COLUMN_INDEX,thead=!1;function sortables_init(){if(document.getElementsByTagName){tbls=document.getElementsByTagName("table");for(ti=0;ti<tbls.length;ti++)thisTbl=tbls[ti],-1!=(" "+thisTbl.className+" ").indexOf("sortable")&&thisTbl.id&&ts_makeSortable(thisTbl)}}
function ts_makeSortable(a){if(a.rows&&0<a.rows.length)if(a.tHead&&0<a.tHead.rows.length){var c=a.tHead.rows[a.tHead.rows.length-1];thead=!0}else c=a.rows[0];if(c){for(var d=0;d<c.cells.length;d++){var b=c.cells[d],f=ts_getInnerText(b);"unsortable"!=b.className&&-1==b.className.indexOf("unsortable")&&(b.innerHTML='<a href="#" class="sortheader" onclick="ts_resortTable(this, '+d+');return false;">'+f+'<span class="sortarrow">&nbsp;&nbsp;<img src="'+image_path+image_none+'" alt="&darr;"/></span></a>')}alternate_row_colors&&
alternate(a)}}function ts_getInnerText(a){if("string"==typeof a||"undefined"==typeof a)return a;if(a.innerText)return a.innerText;for(var c="",a=a.childNodes,d=a.length,b=0;b<d;b++)switch(a[b].nodeType){case 1:c+=ts_getInnerText(a[b]);break;case 3:c+=a[b].nodeValue}return c}
function ts_resortTable(a,c){for(var d,b=0;b<a.childNodes.length;b++)a.childNodes[b].tagName&&"span"==a.childNodes[b].tagName.toLowerCase()&&(d=a.childNodes[b]);ts_getInnerText(d);var f=a.parentNode,b=c||f.cellIndex,f=getParent(f,"TABLE");if(!(1>=f.rows.length)){for(var g="",e=0;""==g&&e<f.tBodies[0].rows.length;){g=ts_getInnerText(f.tBodies[0].rows[e].cells[b]);g=trim(g);if("<\!--"==g.substr(0,4)||0==g.length)g="";e++}if(""!=g){sortfn=ts_sort_caseinsensitive;g.match(/^\d\d[\/\.-][a-zA-z][a-zA-Z][a-zA-Z][\/\.-]\d\d\d\d$/)&&
(sortfn=ts_sort_date);g.match(/^\d\d[\/\.-]\d\d[\/\.-]\d\d\d{2}?$/)&&(sortfn=ts_sort_date);g.match(/^-?[\u00a3$\u20ac\u00db\u00a2\u00b4]\d/)&&(sortfn=ts_sort_numeric);g.match(/^-?(\d+[,\.]?)+(E[-+][\d]+)?%?$/)&&(sortfn=ts_sort_numeric);SORT_COLUMN_INDEX=b;b=[];for(k=0;k<f.tBodies.length;k++)for(e=0;e<f.tBodies[k].rows[0].length;e++);for(k=0;k<f.tBodies.length;k++)if(thead)for(j=0;j<f.tBodies[k].rows.length;j++)b[j]=f.tBodies[k].rows[j];else for(j=1;j<f.tBodies[k].rows.length;j++)b[j-1]=f.tBodies[k].rows[j];
b.sort(sortfn);"down"==d.getAttribute("sortdir")?(ARROW='&nbsp;&nbsp;<img src="'+image_path+image_down+'" alt="&darr;"/>',b.reverse(),d.setAttribute("sortdir","up")):(ARROW='&nbsp;&nbsp;<img src="'+image_path+image_up+'" alt="&uarr;"/>',d.setAttribute("sortdir","down"));for(e=0;e<b.length;e++)(!b[e].className||b[e].className&&-1==b[e].className.indexOf("sortbottom"))&&f.tBodies[0].appendChild(b[e]);for(e=0;e<b.length;e++)b[e].className&&-1!=b[e].className.indexOf("sortbottom")&&f.tBodies[0].appendChild(b[e]);
e=document.getElementsByTagName("span");for(b=0;b<e.length;b++)"sortarrow"==e[b].className&&getParent(e[b],"table")==getParent(a,"table")&&(e[b].innerHTML='&nbsp;&nbsp;<img src="'+image_path+image_none+'" alt="&darr;"/>');d.innerHTML=ARROW;alternate(f)}}}function getParent(a,c){return null==a?null:1==a.nodeType&&a.tagName.toLowerCase()==c.toLowerCase()?a:getParent(a.parentNode,c)}
function sort_date(a){dt="00000000";if(11==a.length){mtstr=a.substr(3,3);mtstr=mtstr.toLowerCase();switch(mtstr){case "jan":var c="01";break;case "feb":c="02";break;case "mar":c="03";break;case "apr":c="04";break;case "may":c="05";break;case "jun":c="06";break;case "jul":c="07";break;case "aug":c="08";break;case "sep":c="09";break;case "oct":c="10";break;case "nov":c="11";break;case "dec":c="12"}dt=a.substr(7,4)+c+a.substr(0,2)}else 10==a.length?dt=!1==europeandate?a.substr(6,4)+a.substr(0,2)+a.substr(3,
2):a.substr(6,4)+a.substr(3,2)+a.substr(0,2):8==a.length&&(yr=a.substr(6,2),yr=50>parseInt(yr)?"20"+yr:"19"+yr,dt=!0==europeandate?yr+a.substr(3,2)+a.substr(0,2):yr+a.substr(0,2)+a.substr(3,2));return dt}function ts_sort_date(a,c){dt1=sort_date(ts_getInnerText(a.cells[SORT_COLUMN_INDEX]));dt2=sort_date(ts_getInnerText(c.cells[SORT_COLUMN_INDEX]));return dt1==dt2?0:dt1<dt2?-1:1}
function ts_sort_numeric(a,c){var d=ts_getInnerText(a.cells[SORT_COLUMN_INDEX]),d=clean_num(d),b=ts_getInnerText(c.cells[SORT_COLUMN_INDEX]),b=clean_num(b);return compare_numeric(d,b)}function compare_numeric(a,c){a=parseFloat(a);a=isNaN(a)?0:a;c=parseFloat(c);c=isNaN(c)?0:c;return a-c}function ts_sort_caseinsensitive(a,c){aa=ts_getInnerText(a.cells[SORT_COLUMN_INDEX]).toLowerCase();bb=ts_getInnerText(c.cells[SORT_COLUMN_INDEX]).toLowerCase();return aa==bb?0:aa<bb?-1:1}
function ts_sort_default(a,c){aa=ts_getInnerText(a.cells[SORT_COLUMN_INDEX]);bb=ts_getInnerText(c.cells[SORT_COLUMN_INDEX]);return aa==bb?0:aa<bb?-1:1}function addEvent(a,c,d,b){if(a.addEventListener)return a.addEventListener(c,d,b),!0;if(a.attachEvent)return a.attachEvent("on"+c,d);alert("Handler could not be removed")}function clean_num(a){return a=a.replace(RegExp(/[^-?0-9.]/g),"")}function trim(a){return a.replace(/^\s+|\s+$/g,"")}
function alternate(a){for(var a=a.getElementsByTagName("tbody"),c=0;c<a.length;c++)for(var d=a[c].getElementsByTagName("tr"),b=0;b<d.length;b++)0==b%2?-1!=d[b].className.indexOf("odd")?d[b].className=d[b].className.replace("odd","even"):-1==d[b].className.indexOf("even")&&(d[b].className+=" even"):-1!=d[b].className.indexOf("even")?d[b].className=d[b].className.replace("even","odd"):-1==d[b].className.indexOf("odd")&&(d[b].className+=" odd")};